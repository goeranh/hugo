<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Kurskompendium - introduktion till R</title>
  <meta name="description" content="Kurskompendium - introduktion till R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Kurskompendium - introduktion till R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kurskompendium - introduktion till R" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="arbetsflode-scripts.html">
<link rel="next" href="arbetsflode-projekt.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.3.1/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduktion</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#basics"><i class="fa fa-check"></i><b>1.1</b> Basics</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#r-konsolen"><i class="fa fa-check"></i><b>1.2</b> R-konsolen</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#rstudio"><i class="fa fa-check"></i><b>1.3</b> RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#hjalpfunktioner"><i class="fa fa-check"></i><b>1.4</b> Hjälpfunktioner</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="utforska-data.html"><a href="utforska-data.html"><i class="fa fa-check"></i><b>2</b> Utforska data</a></li>
<li class="chapter" data-level="3" data-path="visualisering.html"><a href="visualisering.html"><i class="fa fa-check"></i><b>3</b> Visualisering</a><ul>
<li class="chapter" data-level="3.1" data-path="visualisering.html"><a href="visualisering.html#ett-forsta-diagram"><i class="fa fa-check"></i><b>3.1</b> Ett första diagram</a><ul>
<li class="chapter" data-level="3.1.1" data-path="visualisering.html"><a href="visualisering.html#ladda-data"><i class="fa fa-check"></i><b>3.1.1</b> Ladda data</a></li>
<li class="chapter" data-level="3.1.2" data-path="visualisering.html"><a href="visualisering.html#skapa-en-ggplot"><i class="fa fa-check"></i><b>3.1.2</b> Skapa en ggplot</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="visualisering.html"><a href="visualisering.html#en-grafikmall"><i class="fa fa-check"></i><b>3.2</b> En grafikmall</a></li>
<li class="chapter" data-level="3.3" data-path="visualisering.html"><a href="visualisering.html#ovningar"><i class="fa fa-check"></i><b>3.3</b> Övningar</a></li>
<li class="chapter" data-level="3.4" data-path="visualisering.html"><a href="visualisering.html#aes-funktionen-och-mappings"><i class="fa fa-check"></i><b>3.4</b> <code>aes()</code>-funktionen och mappings</a></li>
<li class="chapter" data-level="3.5" data-path="visualisering.html"><a href="visualisering.html#ovningar-1"><i class="fa fa-check"></i><b>3.5</b> Övningar</a></li>
<li class="chapter" data-level="3.6" data-path="visualisering.html"><a href="visualisering.html#vanliga-problem"><i class="fa fa-check"></i><b>3.6</b> Vanliga problem</a></li>
<li class="chapter" data-level="3.7" data-path="visualisering.html"><a href="visualisering.html#facets"><i class="fa fa-check"></i><b>3.7</b> Facets</a></li>
<li class="chapter" data-level="3.8" data-path="visualisering.html"><a href="visualisering.html#ovningar-2"><i class="fa fa-check"></i><b>3.8</b> Övningar</a></li>
<li class="chapter" data-level="3.9" data-path="visualisering.html"><a href="visualisering.html#geometriska-objekt---geoms"><i class="fa fa-check"></i><b>3.9</b> “Geometriska” objekt - geoms</a></li>
<li class="chapter" data-level="3.10" data-path="visualisering.html"><a href="visualisering.html#ovningar-3"><i class="fa fa-check"></i><b>3.10</b> Övningar</a></li>
<li class="chapter" data-level="3.11" data-path="visualisering.html"><a href="visualisering.html#statistiska-transformationer"><i class="fa fa-check"></i><b>3.11</b> Statistiska transformationer</a></li>
<li class="chapter" data-level="3.12" data-path="visualisering.html"><a href="visualisering.html#ovningar-4"><i class="fa fa-check"></i><b>3.12</b> Övningar</a></li>
<li class="chapter" data-level="3.13" data-path="visualisering.html"><a href="visualisering.html#positionering"><i class="fa fa-check"></i><b>3.13</b> Positionering</a></li>
<li class="chapter" data-level="3.14" data-path="visualisering.html"><a href="visualisering.html#ovningar-5"><i class="fa fa-check"></i><b>3.14</b> Övningar</a></li>
<li class="chapter" data-level="3.15" data-path="visualisering.html"><a href="visualisering.html#koordinatsystem"><i class="fa fa-check"></i><b>3.15</b> Koordinatsystem</a></li>
<li class="chapter" data-level="3.16" data-path="visualisering.html"><a href="visualisering.html#ovningar-6"><i class="fa fa-check"></i><b>3.16</b> Övningar</a></li>
<li class="chapter" data-level="3.17" data-path="visualisering.html"><a href="visualisering.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.17</b> “The layered grammar of graphics”</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: Basics</a><ul>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#skriva-kod"><i class="fa fa-check"></i><b>4.1</b> Skriva kod</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#anropa-funktioner"><i class="fa fa-check"></i><b>4.2</b> Anropa funktioner</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#ovningar-7"><i class="fa fa-check"></i><b>4.3</b> Övningar</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transformering-av-data.html"><a href="transformering-av-data.html"><i class="fa fa-check"></i><b>5</b> Transformering av data</a><ul>
<li class="chapter" data-level="5.1" data-path="transformering-av-data.html"><a href="transformering-av-data.html#introduktion-1"><i class="fa fa-check"></i><b>5.1</b> Introduktion</a></li>
<li class="chapter" data-level="5.2" data-path="transformering-av-data.html"><a href="transformering-av-data.html#forberedelser"><i class="fa fa-check"></i><b>5.2</b> Förberedelser</a></li>
<li class="chapter" data-level="5.3" data-path="transformering-av-data.html"><a href="transformering-av-data.html#dplyr-grunder"><i class="fa fa-check"></i><b>5.3</b> <code>dplyr</code> grunder</a><ul>
<li class="chapter" data-level="5.3.1" data-path="transformering-av-data.html"><a href="transformering-av-data.html#filtrera-raderposter-med-filter"><i class="fa fa-check"></i><b>5.3.1</b> Filtrera rader/poster med <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="transformering-av-data.html"><a href="transformering-av-data.html#ovningar-8"><i class="fa fa-check"></i><b>5.4</b> Övningar</a></li>
<li class="chapter" data-level="5.5" data-path="transformering-av-data.html"><a href="transformering-av-data.html#arrangera-poster-med-arrange"><i class="fa fa-check"></i><b>5.5</b> Arrangera poster med <code>arrange()</code></a></li>
<li class="chapter" data-level="5.6" data-path="transformering-av-data.html"><a href="transformering-av-data.html#ovningar-9"><i class="fa fa-check"></i><b>5.6</b> Övningar</a></li>
<li class="chapter" data-level="5.7" data-path="transformering-av-data.html"><a href="transformering-av-data.html#valj-kolumner-med-select"><i class="fa fa-check"></i><b>5.7</b> Välj kolumner med <code>select()</code></a></li>
<li class="chapter" data-level="5.8" data-path="transformering-av-data.html"><a href="transformering-av-data.html#ovningar-10"><i class="fa fa-check"></i><b>5.8</b> Övningar</a></li>
<li class="chapter" data-level="5.9" data-path="transformering-av-data.html"><a href="transformering-av-data.html#lagg-till-flera-variabler-med-hjalp-av-mutate"><i class="fa fa-check"></i><b>5.9</b> Lägg till flera variabler med hjälp av <code>mutate()</code></a><ul>
<li class="chapter" data-level="5.9.1" data-path="transformering-av-data.html"><a href="transformering-av-data.html#funktioner-och-operatorer-att-anvandas-med-mutate"><i class="fa fa-check"></i><b>5.9.1</b> Funktioner och operatorer att användas med <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="transformering-av-data.html"><a href="transformering-av-data.html#ovningar-11"><i class="fa fa-check"></i><b>5.10</b> Övningar</a></li>
<li class="chapter" data-level="5.11" data-path="transformering-av-data.html"><a href="transformering-av-data.html#grupperade-summeringar-med-summarise"><i class="fa fa-check"></i><b>5.11</b> Grupperade summeringar med <code>summarise()</code></a></li>
<li class="chapter" data-level="5.12" data-path="transformering-av-data.html"><a href="transformering-av-data.html#kombinera-multipla-operationer-med-the-pipe"><i class="fa fa-check"></i><b>5.12</b> Kombinera multipla operationer med the pipe</a></li>
<li class="chapter" data-level="5.13" data-path="transformering-av-data.html"><a href="transformering-av-data.html#missing-values"><i class="fa fa-check"></i><b>5.13</b> Missing values</a></li>
<li class="chapter" data-level="5.14" data-path="transformering-av-data.html"><a href="transformering-av-data.html#antal-counts"><i class="fa fa-check"></i><b>5.14</b> Antal (counts)</a></li>
<li class="chapter" data-level="5.15" data-path="transformering-av-data.html"><a href="transformering-av-data.html#anvandbara-summeringsfunktioner"><i class="fa fa-check"></i><b>5.15</b> Användbara summeringsfunktioner</a></li>
<li class="chapter" data-level="5.16" data-path="transformering-av-data.html"><a href="transformering-av-data.html#gruppera-med-flera-variabler"><i class="fa fa-check"></i><b>5.16</b> Gruppera med flera variabler</a></li>
<li class="chapter" data-level="5.17" data-path="transformering-av-data.html"><a href="transformering-av-data.html#av-gruppera"><i class="fa fa-check"></i><b>5.17</b> Av-gruppera</a></li>
<li class="chapter" data-level="5.18" data-path="transformering-av-data.html"><a href="transformering-av-data.html#ovningar-12"><i class="fa fa-check"></i><b>5.18</b> Övningar</a></li>
<li class="chapter" data-level="5.19" data-path="transformering-av-data.html"><a href="transformering-av-data.html#grupperade-berakningar-och-filtreringar"><i class="fa fa-check"></i><b>5.19</b> Grupperade beräkningar och filtreringar</a></li>
<li class="chapter" data-level="5.20" data-path="transformering-av-data.html"><a href="transformering-av-data.html#ovningar-13"><i class="fa fa-check"></i><b>5.20</b> Övningar</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="arbetsflode-scripts.html"><a href="arbetsflode-scripts.html"><i class="fa fa-check"></i><b>6</b> Arbetsflöde: scripts</a><ul>
<li class="chapter" data-level="6.1" data-path="arbetsflode-scripts.html"><a href="arbetsflode-scripts.html#att-kora-kod"><i class="fa fa-check"></i><b>6.1</b> Att köra kod</a></li>
<li class="chapter" data-level="6.2" data-path="arbetsflode-scripts.html"><a href="arbetsflode-scripts.html#diagnostics"><i class="fa fa-check"></i><b>6.2</b> Diagnostics</a></li>
<li class="chapter" data-level="6.3" data-path="arbetsflode-scripts.html"><a href="arbetsflode-scripts.html#praktik"><i class="fa fa-check"></i><b>6.3</b> Praktik</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html"><i class="fa fa-check"></i><b>7</b> Explorativ analys av data</a><ul>
<li class="chapter" data-level="7.1" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#introduktion-2"><i class="fa fa-check"></i><b>7.1</b> Introduktion</a></li>
<li class="chapter" data-level="7.2" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#fragor"><i class="fa fa-check"></i><b>7.2</b> Frågor</a></li>
<li class="chapter" data-level="7.3" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a></li>
<li class="chapter" data-level="7.4" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#visualisera-fordelningar"><i class="fa fa-check"></i><b>7.4</b> Visualisera fördelningar</a></li>
<li class="chapter" data-level="7.5" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#outliers"><i class="fa fa-check"></i><b>7.5</b> Outliers</a></li>
<li class="chapter" data-level="7.6" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#ovningar-14"><i class="fa fa-check"></i><b>7.6</b> Övningar</a></li>
<li class="chapter" data-level="7.7" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#missing-values-1"><i class="fa fa-check"></i><b>7.7</b> Missing values</a></li>
<li class="chapter" data-level="7.8" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#samvarians---covariance"><i class="fa fa-check"></i><b>7.8</b> Samvarians - covariance</a><ul>
<li class="chapter" data-level="7.8.1" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#en-kategorisk-och-en-kontinuerlig-variabel"><i class="fa fa-check"></i><b>7.8.1</b> En kategorisk och en kontinuerlig variabel</a></li>
<li class="chapter" data-level="7.8.2" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#ovningar-15"><i class="fa fa-check"></i><b>7.8.2</b> Övningar</a></li>
<li class="chapter" data-level="7.8.3" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#tva-kategoriska-variabler"><i class="fa fa-check"></i><b>7.8.3</b> Två kategoriska variabler</a></li>
<li class="chapter" data-level="7.8.4" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#tva-kontinuerliga-variabler"><i class="fa fa-check"></i><b>7.8.4</b> Två kontinuerliga variabler</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#ggplot2-calls"><i class="fa fa-check"></i><b>7.9</b> <code>ggplot2</code> calls</a></li>
<li class="chapter" data-level="7.10" data-path="explorativ-analys-av-data.html"><a href="explorativ-analys-av-data.html#att-lara-mer"><i class="fa fa-check"></i><b>7.10</b> Att lära mer</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="arbetsflode-projekt.html"><a href="arbetsflode-projekt.html"><i class="fa fa-check"></i><b>8</b> Arbetsflöde: Projekt</a><ul>
<li class="chapter" data-level="8.1" data-path="arbetsflode-projekt.html"><a href="arbetsflode-projekt.html#vad-ar-viktigt"><i class="fa fa-check"></i><b>8.1</b> Vad är viktigt?</a></li>
<li class="chapter" data-level="8.2" data-path="arbetsflode-projekt.html"><a href="arbetsflode-projekt.html#vart-lever-analysen-arbetsbiblioteket"><i class="fa fa-check"></i><b>8.2</b> Vart lever analysen? Arbetsbiblioteket</a></li>
<li class="chapter" data-level="8.3" data-path="arbetsflode-projekt.html"><a href="arbetsflode-projekt.html#sokvagar-och-bibliotekmappar"><i class="fa fa-check"></i><b>8.3</b> Sökvägar och bibliotek/mappar</a></li>
<li class="chapter" data-level="8.4" data-path="arbetsflode-projekt.html"><a href="arbetsflode-projekt.html#rstudio-projects-viktigt"><i class="fa fa-check"></i><b>8.4</b> RStudio projects VIKTIGT!</a></li>
<li class="chapter" data-level="8.5" data-path="arbetsflode-projekt.html"><a href="arbetsflode-projekt.html#sammanfattningsvis"><i class="fa fa-check"></i><b>8.5</b> Sammanfattningsvis</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="wrangle-att-brottas-med-data.html"><a href="wrangle-att-brottas-med-data.html"><i class="fa fa-check"></i><b>9</b> Wrangle - att brottas med data</a><ul>
<li class="chapter" data-level="9.1" data-path="wrangle-att-brottas-med-data.html"><a href="wrangle-att-brottas-med-data.html#introduktion-3"><i class="fa fa-check"></i><b>9.1</b> Introduktion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles</a><ul>
<li class="chapter" data-level="10.1" data-path="tibbles.html"><a href="tibbles.html#skapa-tibbles"><i class="fa fa-check"></i><b>10.1</b> Skapa tibbles</a><ul>
<li class="chapter" data-level="10.1.1" data-path="tibbles.html"><a href="tibbles.html#tibbles-vs-data-frames"><i class="fa fa-check"></i><b>10.1.1</b> Tibbles vs data frames</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="tibbles.html"><a href="tibbles.html#utskrift-printing"><i class="fa fa-check"></i><b>10.2</b> Utskrift (Printing)</a></li>
<li class="chapter" data-level="10.3" data-path="tibbles.html"><a href="tibbles.html#urval"><i class="fa fa-check"></i><b>10.3</b> Urval</a></li>
<li class="chapter" data-level="10.4" data-path="tibbles.html"><a href="tibbles.html#anvanda-aldre-kod"><i class="fa fa-check"></i><b>10.4</b> Använda äldre kod</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="importera-data.html"><a href="importera-data.html"><i class="fa fa-check"></i><b>11</b> Importera data</a><ul>
<li class="chapter" data-level="11.1" data-path="importera-data.html"><a href="importera-data.html#jamforelse-med-base-r"><i class="fa fa-check"></i><b>11.1</b> Jämförelse med base R</a></li>
<li class="chapter" data-level="11.2" data-path="importera-data.html"><a href="importera-data.html#ovningar-16"><i class="fa fa-check"></i><b>11.2</b> Övningar</a></li>
<li class="chapter" data-level="11.3" data-path="importera-data.html"><a href="importera-data.html#omvandla-vektorer"><i class="fa fa-check"></i><b>11.3</b> Omvandla vektorer</a><ul>
<li class="chapter" data-level="11.3.1" data-path="importera-data.html"><a href="importera-data.html#numeriska-variabler"><i class="fa fa-check"></i><b>11.3.1</b> Numeriska variabler</a></li>
<li class="chapter" data-level="11.3.2" data-path="importera-data.html"><a href="importera-data.html#textstrangar"><i class="fa fa-check"></i><b>11.3.2</b> Textsträngar</a></li>
<li class="chapter" data-level="11.3.3" data-path="importera-data.html"><a href="importera-data.html#kategoriska-data"><i class="fa fa-check"></i><b>11.3.3</b> Kategoriska data</a></li>
<li class="chapter" data-level="11.3.4" data-path="importera-data.html"><a href="importera-data.html#datum-och-tid"><i class="fa fa-check"></i><b>11.3.4</b> Datum och tid</a></li>
<li class="chapter" data-level="11.3.5" data-path="importera-data.html"><a href="importera-data.html#ovningar-17"><i class="fa fa-check"></i><b>11.3.5</b> Övningar</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="importera-data.html"><a href="importera-data.html#hur-readr-plockar-isar-parse-en-fil"><i class="fa fa-check"></i><b>11.4</b> Hur <code>readr</code> “plockar isär” (parse) en fil</a></li>
<li class="chapter" data-level="11.5" data-path="importera-data.html"><a href="importera-data.html#problem"><i class="fa fa-check"></i><b>11.5</b> Problem</a></li>
<li class="chapter" data-level="11.6" data-path="importera-data.html"><a href="importera-data.html#skriva-till-en-fil"><i class="fa fa-check"></i><b>11.6</b> Skriva till en fil</a></li>
<li class="chapter" data-level="11.7" data-path="importera-data.html"><a href="importera-data.html#andra-datatyper"><i class="fa fa-check"></i><b>11.7</b> Andra datatyper</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="excel-och-r.html"><a href="excel-och-r.html"><i class="fa fa-check"></i><b>12</b> Excel och R</a><ul>
<li class="chapter" data-level="12.1" data-path="excel-och-r.html"><a href="excel-och-r.html#skriv-till-en-excelfil"><i class="fa fa-check"></i><b>12.1</b> Skriv till en excelfil</a></li>
<li class="chapter" data-level="12.2" data-path="excel-och-r.html"><a href="excel-och-r.html#lasa-in-excel"><i class="fa fa-check"></i><b>12.2</b> Läsa in excel</a></li>
<li class="chapter" data-level="12.3" data-path="excel-och-r.html"><a href="excel-och-r.html#ytterligare-resurser-for-att-hantera-excel-filer-i-r"><i class="fa fa-check"></i><b>12.3</b> Ytterligare resurser för att hantera excel-filer i R</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html"><i class="fa fa-check"></i><b>13</b> Städa data (tidy data)</a><ul>
<li class="chapter" data-level="13.1" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#introduktion-4"><i class="fa fa-check"></i><b>13.1</b> Introduktion</a></li>
<li class="chapter" data-level="13.2" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i><b>13.2</b> Spreading and gathering</a><ul>
<li class="chapter" data-level="13.2.1" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#gathering"><i class="fa fa-check"></i><b>13.2.1</b> Gathering</a></li>
<li class="chapter" data-level="13.2.2" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#spreading"><i class="fa fa-check"></i><b>13.2.2</b> Spreading</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#ovningar-18"><i class="fa fa-check"></i><b>13.3</b> Övningar</a></li>
<li class="chapter" data-level="13.4" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#separera-och-forena"><i class="fa fa-check"></i><b>13.4</b> Separera och förena</a><ul>
<li class="chapter" data-level="13.4.1" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#separate"><i class="fa fa-check"></i><b>13.4.1</b> Separate</a></li>
<li class="chapter" data-level="13.4.2" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#unite"><i class="fa fa-check"></i><b>13.4.2</b> Unite</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#ovningar-19"><i class="fa fa-check"></i><b>13.5</b> Övningar</a></li>
<li class="chapter" data-level="13.6" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#missing-values-2"><i class="fa fa-check"></i><b>13.6</b> Missing values</a></li>
<li class="chapter" data-level="13.7" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#ovningar-20"><i class="fa fa-check"></i><b>13.7</b> Övningar</a></li>
<li class="chapter" data-level="13.8" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#en-case-study"><i class="fa fa-check"></i><b>13.8</b> En case study</a></li>
<li class="chapter" data-level="13.9" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#ovningar-21"><i class="fa fa-check"></i><b>13.9</b> Övningar</a></li>
<li class="chapter" data-level="13.10" data-path="stada-data-tidy-data.html"><a href="stada-data-tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>13.10</b> Non-tidy data</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html"><i class="fa fa-check"></i><b>14</b> Relationer mellan datamängder</a><ul>
<li class="chapter" data-level="14.1" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#introduktion-5"><i class="fa fa-check"></i><b>14.1</b> Introduktion</a></li>
<li class="chapter" data-level="14.2" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#nycflights13"><i class="fa fa-check"></i><b>14.2</b> <code>nycflights13</code></a></li>
<li class="chapter" data-level="14.3" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#keys"><i class="fa fa-check"></i><b>14.3</b> Keys</a></li>
<li class="chapter" data-level="14.4" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#mutating-joins"><i class="fa fa-check"></i><b>14.4</b> <em>Mutating joins</em></a><ul>
<li class="chapter" data-level="14.4.1" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#att-forsta-joins"><i class="fa fa-check"></i><b>14.4.1</b> Att förstå <em>joins</em></a></li>
<li class="chapter" data-level="14.4.2" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#inner-join"><i class="fa fa-check"></i><b>14.4.2</b> Inner join</a></li>
<li class="chapter" data-level="14.4.3" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#outer-joins"><i class="fa fa-check"></i><b>14.4.3</b> Outer joins</a></li>
<li class="chapter" data-level="14.4.4" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#duplicate-keys"><i class="fa fa-check"></i><b>14.4.4</b> Duplicate keys</a></li>
<li class="chapter" data-level="14.4.5" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#definiera-nyckel-kolumner-key-columns"><i class="fa fa-check"></i><b>14.4.5</b> Definiera nyckel-kolumner (<em>key columns</em>)</a></li>
<li class="chapter" data-level="14.4.6" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#ovningar-22"><i class="fa fa-check"></i><b>14.4.6</b> Övningar</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#filtering-joins"><i class="fa fa-check"></i><b>14.5</b> <em>Filtering joins</em></a></li>
<li class="chapter" data-level="14.6" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#problem-med-joins"><i class="fa fa-check"></i><b>14.6</b> Problem med <em>joins</em></a></li>
<li class="chapter" data-level="14.7" data-path="relationer-mellan-datamangder.html"><a href="relationer-mellan-datamangder.html#set-operations"><i class="fa fa-check"></i><b>14.7</b> Set operations</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html"><i class="fa fa-check"></i><b>15</b> Textsträngar (strings)</a><ul>
<li class="chapter" data-level="15.1" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#introduktion-6"><i class="fa fa-check"></i><b>15.1</b> Introduktion</a></li>
<li class="chapter" data-level="15.2" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#basics-1"><i class="fa fa-check"></i><b>15.2</b> Basics</a><ul>
<li class="chapter" data-level="15.2.1" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#stringr-funktioner"><i class="fa fa-check"></i><b>15.2.1</b> <code>stringr</code>-funktioner</a></li>
<li class="chapter" data-level="15.2.2" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#kombinera-strangar"><i class="fa fa-check"></i><b>15.2.2</b> Kombinera strängar</a></li>
<li class="chapter" data-level="15.2.3" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#extrahera-delar-av-textstrangar-subsetting"><i class="fa fa-check"></i><b>15.2.3</b> Extrahera delar av textsträngar (subsetting)</a></li>
<li class="chapter" data-level="15.2.4" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#ovningar-23"><i class="fa fa-check"></i><b>15.2.4</b> Övningar</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#matcha-textmonster-med-hjalp-av-regular-expressions"><i class="fa fa-check"></i><b>15.3</b> Matcha textmönster med hjälp av <em>regular expressions</em></a><ul>
<li class="chapter" data-level="15.3.1" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#basic-matches"><i class="fa fa-check"></i><b>15.3.1</b> Basic matches</a></li>
<li class="chapter" data-level="15.3.2" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#ankare-anchors"><i class="fa fa-check"></i><b>15.3.2</b> Ankare (Anchors)</a></li>
<li class="chapter" data-level="15.3.3" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#tecken-klasser"><i class="fa fa-check"></i><b>15.3.3</b> Tecken-klasser</a></li>
<li class="chapter" data-level="15.3.4" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#repeterande-tecken"><i class="fa fa-check"></i><b>15.3.4</b> Repeterande tecken</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#verktyg"><i class="fa fa-check"></i><b>15.4</b> Verktyg</a><ul>
<li class="chapter" data-level="15.4.1" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#upptack-matchningar"><i class="fa fa-check"></i><b>15.4.1</b> Upptäck matchningar</a></li>
<li class="chapter" data-level="15.4.2" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#ovningar-26"><i class="fa fa-check"></i><b>15.4.2</b> Övningar</a></li>
<li class="chapter" data-level="15.4.3" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#extrahera-matchningar"><i class="fa fa-check"></i><b>15.4.3</b> Extrahera matchningar</a></li>
<li class="chapter" data-level="15.4.4" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#gruppereade-matchningar"><i class="fa fa-check"></i><b>15.4.4</b> Gruppereade matchningar</a></li>
<li class="chapter" data-level="15.4.5" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#ersatt-matchningar"><i class="fa fa-check"></i><b>15.4.5</b> Ersätt matchningar</a></li>
<li class="chapter" data-level="15.4.6" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#dela-upp-textstrangar"><i class="fa fa-check"></i><b>15.4.6</b> Dela upp textsträngar</a></li>
<li class="chapter" data-level="15.4.7" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#hitta-matchningar"><i class="fa fa-check"></i><b>15.4.7</b> Hitta matchningar</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#andra-typer-av-monster"><i class="fa fa-check"></i><b>15.5</b> Andra typer av mönster</a></li>
<li class="chapter" data-level="15.6" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#andra-typer-av-regexps"><i class="fa fa-check"></i><b>15.6</b> Andra typer av regexps</a></li>
<li class="chapter" data-level="15.7" data-path="textstrangar-strings.html"><a href="textstrangar-strings.html#stringi"><i class="fa fa-check"></i><b>15.7</b> stringi</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="kategoriska-variabler-factors.html"><a href="kategoriska-variabler-factors.html"><i class="fa fa-check"></i><b>16</b> Kategoriska variabler (Factors)</a><ul>
<li class="chapter" data-level="16.1" data-path="kategoriska-variabler-factors.html"><a href="kategoriska-variabler-factors.html#introduktion-7"><i class="fa fa-check"></i><b>16.1</b> Introduktion</a></li>
<li class="chapter" data-level="16.2" data-path="kategoriska-variabler-factors.html"><a href="kategoriska-variabler-factors.html#skapa-factors"><i class="fa fa-check"></i><b>16.2</b> Skapa factors</a></li>
<li class="chapter" data-level="16.3" data-path="kategoriska-variabler-factors.html"><a href="kategoriska-variabler-factors.html#general-social-survey"><i class="fa fa-check"></i><b>16.3</b> General Social Survey</a></li>
<li class="chapter" data-level="16.4" data-path="kategoriska-variabler-factors.html"><a href="kategoriska-variabler-factors.html#modifiera-ordningen-av-factors"><i class="fa fa-check"></i><b>16.4</b> Modifiera ordningen av factors</a></li>
<li class="chapter" data-level="16.5" data-path="kategoriska-variabler-factors.html"><a href="kategoriska-variabler-factors.html#modifiera-factor-levels"><i class="fa fa-check"></i><b>16.5</b> Modifiera factor levels</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html"><i class="fa fa-check"></i><b>17</b> Datum och tidsformat</a><ul>
<li class="chapter" data-level="17.1" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#introduktion-8"><i class="fa fa-check"></i><b>17.1</b> Introduktion</a></li>
<li class="chapter" data-level="17.2" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#skapa-datum-och-tid"><i class="fa fa-check"></i><b>17.2</b> Skapa datum och tid</a><ul>
<li class="chapter" data-level="17.2.1" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#fran-textstrangar"><i class="fa fa-check"></i><b>17.2.1</b> Från textsträngar</a></li>
<li class="chapter" data-level="17.2.2" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#fran-enskilda-kompnenter"><i class="fa fa-check"></i><b>17.2.2</b> Från enskilda kompnenter</a></li>
<li class="chapter" data-level="17.2.3" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#fran-andra-datumtid-format"><i class="fa fa-check"></i><b>17.2.3</b> Från andra datum/tid-format</a></li>
<li class="chapter" data-level="17.2.4" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#ovningar-27"><i class="fa fa-check"></i><b>17.2.4</b> Övningar</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#datumtid-komponenter"><i class="fa fa-check"></i><b>17.3</b> Datum/tid-komponenter</a><ul>
<li class="chapter" data-level="17.3.1" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#extrahera-komponenter"><i class="fa fa-check"></i><b>17.3.1</b> Extrahera komponenter</a></li>
<li class="chapter" data-level="17.3.2" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#avrundning"><i class="fa fa-check"></i><b>17.3.2</b> Avrundning</a></li>
<li class="chapter" data-level="17.3.3" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#ange-komponenter"><i class="fa fa-check"></i><b>17.3.3</b> Ange komponenter</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#tidsintervall"><i class="fa fa-check"></i><b>17.4</b> Tidsintervall</a><ul>
<li class="chapter" data-level="17.4.1" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#varaktighet"><i class="fa fa-check"></i><b>17.4.1</b> Varaktighet</a></li>
<li class="chapter" data-level="17.4.2" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#perioder"><i class="fa fa-check"></i><b>17.4.2</b> Perioder</a></li>
<li class="chapter" data-level="17.4.3" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#intervall"><i class="fa fa-check"></i><b>17.4.3</b> Intervall</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="datum-och-tidsformat.html"><a href="datum-och-tidsformat.html#summering"><i class="fa fa-check"></i><b>17.5</b> Summering</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="programmering-i-r.html"><a href="programmering-i-r.html"><i class="fa fa-check"></i><b>18</b> Programmering i R</a><ul>
<li class="chapter" data-level="18.1" data-path="programmering-i-r.html"><a href="programmering-i-r.html#introduktion-9"><i class="fa fa-check"></i><b>18.1</b> Introduktion</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>19</b> Pipes</a></li>
<li class="chapter" data-level="20" data-path="funktioner.html"><a href="funktioner.html"><i class="fa fa-check"></i><b>20</b> Funktioner</a><ul>
<li class="chapter" data-level="20.1" data-path="funktioner.html"><a href="funktioner.html#nar-bor-du-skapa-en-funktion"><i class="fa fa-check"></i><b>20.1</b> När bör du skapa en funktion?</a></li>
<li class="chapter" data-level="20.2" data-path="funktioner.html"><a href="funktioner.html#funktioner-ar-till-for-manniskor-och-datorer"><i class="fa fa-check"></i><b>20.2</b> Funktioner är till för människor och datorer</a></li>
<li class="chapter" data-level="20.3" data-path="funktioner.html"><a href="funktioner.html#villkorlig-exekvering"><i class="fa fa-check"></i><b>20.3</b> Villkorlig exekvering</a><ul>
<li class="chapter" data-level="20.3.1" data-path="funktioner.html"><a href="funktioner.html#villkor"><i class="fa fa-check"></i><b>20.3.1</b> Villkor</a></li>
<li class="chapter" data-level="20.3.2" data-path="funktioner.html"><a href="funktioner.html#multipla-villkor"><i class="fa fa-check"></i><b>20.3.2</b> Multipla villkor</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="funktioner.html"><a href="funktioner.html#funktionsargument"><i class="fa fa-check"></i><b>20.4</b> Funktionsargument</a></li>
<li class="chapter" data-level="20.5" data-path="funktioner.html"><a href="funktioner.html#kolla-varden"><i class="fa fa-check"></i><b>20.5</b> Kolla värden</a></li>
<li class="chapter" data-level="20.6" data-path="funktioner.html"><a href="funktioner.html#punkt-punkt-punkt"><i class="fa fa-check"></i><b>20.6</b> punkt-punkt-punkt</a></li>
<li class="chapter" data-level="20.7" data-path="funktioner.html"><a href="funktioner.html#returnera-varden"><i class="fa fa-check"></i><b>20.7</b> Returnera värden</a><ul>
<li class="chapter" data-level="20.7.1" data-path="funktioner.html"><a href="funktioner.html#explicita-return-uttryck"><i class="fa fa-check"></i><b>20.7.1</b> Explicita <code>return</code>-uttryck</a></li>
</ul></li>
<li class="chapter" data-level="20.8" data-path="funktioner.html"><a href="funktioner.html#skriva-funktioner-med-hjalp-av-pipes"><i class="fa fa-check"></i><b>20.8</b> Skriva funktioner med hjälp av pipes</a></li>
<li class="chapter" data-level="20.9" data-path="funktioner.html"><a href="funktioner.html#environment-svart-hitta-ett-svenskt-uttryck"><i class="fa fa-check"></i><b>20.9</b> Environment (svårt hitta ett svenskt uttryck)</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="vektorer.html"><a href="vektorer.html"><i class="fa fa-check"></i><b>21</b> Vektorer</a><ul>
<li class="chapter" data-level="21.1" data-path="vektorer.html"><a href="vektorer.html#introduktion-10"><i class="fa fa-check"></i><b>21.1</b> Introduktion</a></li>
<li class="chapter" data-level="21.2" data-path="vektorer.html"><a href="vektorer.html#atomic-vectors"><i class="fa fa-check"></i><b>21.2</b> Atomic vectors</a><ul>
<li class="chapter" data-level="21.2.1" data-path="vektorer.html"><a href="vektorer.html#logical-vectors"><i class="fa fa-check"></i><b>21.2.1</b> Logical vectors</a></li>
<li class="chapter" data-level="21.2.2" data-path="vektorer.html"><a href="vektorer.html#numeriska-vektorer"><i class="fa fa-check"></i><b>21.2.2</b> Numeriska vektorer</a></li>
<li class="chapter" data-level="21.2.3" data-path="vektorer.html"><a href="vektorer.html#character"><i class="fa fa-check"></i><b>21.2.3</b> Character</a></li>
<li class="chapter" data-level="21.2.4" data-path="vektorer.html"><a href="vektorer.html#anvanda-atomic-vectors"><i class="fa fa-check"></i><b>21.2.4</b> Använda atomic vectors</a></li>
<li class="chapter" data-level="21.2.5" data-path="vektorer.html"><a href="vektorer.html#scalars-och-recycling"><i class="fa fa-check"></i><b>21.2.5</b> Scalars och recycling</a></li>
<li class="chapter" data-level="21.2.6" data-path="vektorer.html"><a href="vektorer.html#rekursiva-vektorer-lists"><i class="fa fa-check"></i><b>21.2.6</b> Rekursiva vektorer (lists)</a></li>
<li class="chapter" data-level="21.2.7" data-path="vektorer.html"><a href="vektorer.html#attribut"><i class="fa fa-check"></i><b>21.2.7</b> Attribut</a></li>
<li class="chapter" data-level="21.2.8" data-path="vektorer.html"><a href="vektorer.html#forstarkta-vektorer-augmented-vectors"><i class="fa fa-check"></i><b>21.2.8</b> Förstärkta vektorer (Augmented vectors)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="itereringar.html"><a href="itereringar.html"><i class="fa fa-check"></i><b>22</b> Itereringar</a><ul>
<li class="chapter" data-level="22.1" data-path="itereringar.html"><a href="itereringar.html#for-loops"><i class="fa fa-check"></i><b>22.1</b> For-loops</a></li>
<li class="chapter" data-level="22.2" data-path="itereringar.html"><a href="itereringar.html#variationer-av-for-loopar"><i class="fa fa-check"></i><b>22.2</b> Variationer av for-loopar</a><ul>
<li class="chapter" data-level="22.2.1" data-path="itereringar.html"><a href="itereringar.html#modifiera-ett-existerande-obkjekt"><i class="fa fa-check"></i><b>22.2.1</b> Modifiera ett existerande obkjekt</a></li>
<li class="chapter" data-level="22.2.2" data-path="itereringar.html"><a href="itereringar.html#nar-langden-pa-output-inte-ar-kand"><i class="fa fa-check"></i><b>22.2.2</b> När längden på output inte är känd</a></li>
<li class="chapter" data-level="22.2.3" data-path="itereringar.html"><a href="itereringar.html#nar-sekvensens-langd-ar-okand"><i class="fa fa-check"></i><b>22.2.3</b> När sekvensens längd är okänd</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="itereringar.html"><a href="itereringar.html#for-loops-vs.funktioner"><i class="fa fa-check"></i><b>22.3</b> for-loops vs. Funktioner</a></li>
<li class="chapter" data-level="22.4" data-path="itereringar.html"><a href="itereringar.html#mappningsfunktioner"><i class="fa fa-check"></i><b>22.4</b> Mappningsfunktioner</a><ul>
<li class="chapter" data-level="22.4.1" data-path="itereringar.html"><a href="itereringar.html#genvagar"><i class="fa fa-check"></i><b>22.4.1</b> Genvägar</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="itereringar.html"><a href="itereringar.html#hantera-errors"><i class="fa fa-check"></i><b>22.5</b> Hantera errors</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>23</b> Introduction</a></li>
<li class="chapter" data-level="24" data-path="modellering-basics.html"><a href="modellering-basics.html"><i class="fa fa-check"></i><b>24</b> Modellering: basics</a><ul>
<li class="chapter" data-level="24.1" data-path="modellering-basics.html"><a href="modellering-basics.html#en-enkel-modell"><i class="fa fa-check"></i><b>24.1</b> En enkel modell</a></li>
<li class="chapter" data-level="24.2" data-path="modellering-basics.html"><a href="modellering-basics.html#visualisera-modeller"><i class="fa fa-check"></i><b>24.2</b> Visualisera modeller</a><ul>
<li class="chapter" data-level="24.2.1" data-path="modellering-basics.html"><a href="modellering-basics.html#prediktioner"><i class="fa fa-check"></i><b>24.2.1</b> Prediktioner</a></li>
<li class="chapter" data-level="24.2.2" data-path="modellering-basics.html"><a href="modellering-basics.html#residualer"><i class="fa fa-check"></i><b>24.2.2</b> Residualer</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="modellering-basics.html"><a href="modellering-basics.html#formler-och-modell-familjer"><i class="fa fa-check"></i><b>24.3</b> Formler och modell-familjer</a><ul>
<li class="chapter" data-level="24.3.1" data-path="modellering-basics.html"><a href="modellering-basics.html#kategoriska-variabler"><i class="fa fa-check"></i><b>24.3.1</b> Kategoriska variabler</a></li>
<li class="chapter" data-level="24.3.2" data-path="modellering-basics.html"><a href="modellering-basics.html#interaktioner"><i class="fa fa-check"></i><b>24.3.2</b> Interaktioner</a></li>
<li class="chapter" data-level="24.3.3" data-path="modellering-basics.html"><a href="modellering-basics.html#interaktioner-tva-kontinuerliga-variabler"><i class="fa fa-check"></i><b>24.3.3</b> Interaktioner (två kontinuerliga variabler)</a></li>
<li class="chapter" data-level="24.3.4" data-path="modellering-basics.html"><a href="modellering-basics.html#transformationer"><i class="fa fa-check"></i><b>24.3.4</b> Transformationer</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="modellering-basics.html"><a href="modellering-basics.html#missing-values-3"><i class="fa fa-check"></i><b>24.4</b> Missing values</a><ul>
<li class="chapter" data-level="24.4.1" data-path="modellering-basics.html"><a href="modellering-basics.html#andra-modell-familjer"><i class="fa fa-check"></i><b>24.4.1</b> Andra modell-familjer</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html"><i class="fa fa-check"></i><b>25</b> Bygga modeller i R</a><ul>
<li class="chapter" data-level="25.1" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#varfor-ar-diamanter-av-lag-kvalitet-dyrare"><i class="fa fa-check"></i><b>25.1</b> Varför är diamanter av låg kvalitet dyrare?</a><ul>
<li class="chapter" data-level="25.1.1" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#sambandet-pris-och-karat"><i class="fa fa-check"></i><b>25.1.1</b> Sambandet pris och karat</a></li>
<li class="chapter" data-level="25.1.2" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#en-mer-komplicerad-modell"><i class="fa fa-check"></i><b>25.1.2</b> En mer komplicerad modell</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#vad-ar-det-som-paverkar-antalet-dagliga-flighter"><i class="fa fa-check"></i><b>25.2</b> Vad är det som påverkar antalet dagliga flighter?</a><ul>
<li class="chapter" data-level="25.2.1" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#veckodag"><i class="fa fa-check"></i><b>25.2.1</b> Veckodag</a></li>
<li class="chapter" data-level="25.2.2" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#lordags-effekten"><i class="fa fa-check"></i><b>25.2.2</b> Lördags-effekten</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="bygga-modeller-i-r.html"><a href="bygga-modeller-i-r.html#lara-mer-om-modellering"><i class="fa fa-check"></i><b>25.3</b> Lära mer om modellering</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html"><i class="fa fa-check"></i><b>26</b> Grafik för att kommunicera</a><ul>
<li class="chapter" data-level="26.1" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#etiketter-labels"><i class="fa fa-check"></i><b>26.1</b> Etiketter (labels)</a></li>
<li class="chapter" data-level="26.2" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#annoteringar"><i class="fa fa-check"></i><b>26.2</b> Annoteringar</a></li>
<li class="chapter" data-level="26.3" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#scales"><i class="fa fa-check"></i><b>26.3</b> Scales</a><ul>
<li class="chapter" data-level="26.3.1" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#axis-ticks-och-teckenforklaringar"><i class="fa fa-check"></i><b>26.3.1</b> Axis ticks och teckenförklaringar</a></li>
<li class="chapter" data-level="26.3.2" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#teckenforklaringens-legend-layout"><i class="fa fa-check"></i><b>26.3.2</b> Teckenförklaringens (legend) layout</a></li>
<li class="chapter" data-level="26.3.3" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#byta-ut-en-scale"><i class="fa fa-check"></i><b>26.3.3</b> Byta ut en scale</a></li>
</ul></li>
<li class="chapter" data-level="26.4" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#zooming"><i class="fa fa-check"></i><b>26.4</b> Zooming</a><ul>
<li class="chapter" data-level="26.4.1" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#teman-themes"><i class="fa fa-check"></i><b>26.4.1</b> Teman (themes)</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="grafik-for-att-kommunicera.html"><a href="grafik-for-att-kommunicera.html#spara-graferna"><i class="fa fa-check"></i><b>26.5</b> Spara graferna</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Kurskompendium - introduktion till R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="explorativ-analys-av-data" class="section level1">
<h1><span class="header-section-number">7</span> Explorativ analys av data</h1>
<blockquote>
<p>“Far better an approximate answer to the right question, which is often vague, than an exact answer to the wrong question, which can always be made precise.”
— John Tukey</p>
</blockquote>
<div id="introduktion-2" class="section level2">
<h2><span class="header-section-number">7.1</span> Introduktion</h2>
<p>Detta kapitel handlar om hur man kan använda visualiseing och transformering för att undersöka data på ett systematiskt sätt, en process som kallas <em>explorativ dataanalys</em> (EDA). EDA är en iterativ process som innebär att</p>
<ul>
<li>Generera frågeställningar om data</li>
<li>Söka svar genom att visualisera, transformera och modellera data</li>
<li>Använd svaren till att förfina frågeställningarna och/eller generera nya frågeställningar</li>
</ul>
<p>EDA är inte en formell process med en uppsättning regler utan snarare ett förhållningssätt där du inledningsvis kan pröva varje idé som kommer upp hos dig, för att skärpa frågorna allteftersom din kunskap om datamängden blir bättre.</p>
<p>EDA är en viktig del av varje analys, även om frågeställningarna är givna från början, eftersom man alltid behöver undersöka kvaliteten i data. Datarensning är bara en del av EDA - du ställer frågor huruvida data möter dina förväntningar eller inte.</p>
<p>I det här avsnittet ska vi gå igenom ett sätt att rensa data genom att använda <code>ggplot2</code> och <code>dplyr</code>. Vi örjar med att ladda in</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
</div>
<div id="fragor" class="section level2">
<h2><span class="header-section-number">7.2</span> Frågor</h2>
<p>Målet är att utveckla en förståelse av datamängden. Hadley/Grolemund förespråkar frågor som det mest effektiva verktyget för att vägleda EDA. Genom att formulera en fråga fokuseras vår uppmärksamhet på en specifik del av datamängden och underlättar valet av grafer, transformeringar och modelleringar.</p>
<blockquote>
<p>“EDA is fundamentally a creative process. And like most creative processes, the key to asking quality questions is to generate a large quantity of questions.”</p>
</blockquote>
<p>Det finns förstås inga regler om vilka frågor som ska ställas när. Men det finns två slag av frågor som ofta är användbara för att förstå data bättre. De kan löst formuleras:</p>
<ol style="list-style-type: decimal">
<li>Vilken slags variation förekomemr i variablerna?</li>
<li>Vilken slags samvariation förekommer mellan variablerna?</li>
</ol>
<p>Resten av detta kapitel vrider och vänder i dessa två frågor. Låt oss börja med att definiera några begrepp:
- En <em>variabel</em> är en kvantitet, kvalitet eller egenskap som är mätbar
- Ett <em>värde</em> uttrycker nivån på en variabel när man mäter den och kan förändras från ett tillfälle till ett annat
- En <em>observation</em> är en uppsättning mätningar gjorda under liknande förhållanden, vanligtvis vid ett och samma tillfälle och på samma objekt. En observation innehåller en rad värden, vart och ett knutet till en specifik variabel.
- <em>Tabulerade data</em> är en uppsättning värden vilka är knutna till en variabel och en observation. Tabulerade data är städade (<em>tidy</em>) om varje värde är placerade i sin egen cell, varje variabel i en egen kolumn och varje observation i en egen rad.</p>
<p>Vi ska lite senare ägna tid åt att städa data.</p>
</div>
<div id="variation" class="section level2">
<h2><span class="header-section-number">7.3</span> Variation</h2>
<p>Variation är den tendens som en variabels värden har att variera från ett mättillfälle till ett annat. Varje variabel har sitt eget variationsmönster vilket kan ge värdefull information om variabeln. Det kanske bästa sättet att förstå ett variationsmönster, en fördelning, är att visualisera det.</p>
</div>
<div id="visualisera-fordelningar" class="section level2">
<h2><span class="header-section-number">7.4</span> Visualisera fördelningar</h2>
<p>I R behandlas kategoriska variabler vanligtvis som faktorer (<em>factor</em>) eller alfanumeriska vektorer (<em>character</em>). För att undersöka fördelningen av en kategorisk variabel används ofta ett stapeldiagram, ett <em>bar chart</em>:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></a>
<a class="sourceLine" id="cb187-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> cut))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-104-1.png" width="70%" /></p>
<p>Höjden på staplarna visar hur många observationer som fanns för varje värde på <code>x</code>. Det kan man förstås också räkna ut manuellt med <code>dplyr::count()</code>:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb188-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(cut)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   cut           n
##   &lt;ord&gt;     &lt;int&gt;
## 1 Fair       1610
## 2 Good       4906
## 3 Very Good 12082
## 4 Premium   13791
## 5 Ideal     21551</code></pre>
<p>För att undersöka kontinuerliga variabler används ofta histogram:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></a>
<a class="sourceLine" id="cb190-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat), <span class="dt">binwidth =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-106-1.png" width="70%" /></p>
<p>Du kan beräkna detta manuellt genom att kombinera <code>dplyr::count()</code> och <code>ggplot2::cut_width()</code>:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb191-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(<span class="kw">cut_width</span>(carat, <span class="fl">0.5</span>))</a></code></pre></div>
<pre><code>## # A tibble: 11 x 2
##    `cut_width(carat, 0.5)`     n
##    &lt;fct&gt;                   &lt;int&gt;
##  1 [-0.25,0.25]              785
##  2 (0.25,0.75]             29498
##  3 (0.75,1.25]             15977
##  4 (1.25,1.75]              5313
##  5 (1.75,2.25]              2002
##  6 (2.25,2.75]               322
##  7 (2.75,3.25]                32
##  8 (3.25,3.75]                 5
##  9 (3.75,4.25]                 4
## 10 (4.25,4.75]                 1
## 11 (4.75,5.25]                 1</code></pre>
<p>Ett histogram delar x-axeln i likformigt breda <em>bins</em> och använder sedan höjden på y-axeln för att visa antalet observationer i varje bin. I grafen ovan innehåller den längsta stapeln nästan 30 000 observationer med ett värde på carat mellan 0.25 and 0.75, vilket motsvarar den vänstra resp högra kanten av stapeln.</p>
<p>Du kan bestämma bredden på intervallen i histogrammet själv genom <code>binwidth</code>, som anges i x-axelns enheter. Laborera gärna med flera olika bredder eftersom det kan påvisa olika mönster. Låt oss titta på ett histogram som zoomar in på diamanterna mindre än 3 karat och välj en mindre bredd:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1">smaller &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb193-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(carat <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb193-3" data-line-number="3"></a>
<a class="sourceLine" id="cb193-4" data-line-number="4"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat)) <span class="op">+</span></a>
<a class="sourceLine" id="cb193-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.1</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-108-1.png" width="70%" /></p>
<p>Om du vill visualisera flera histogram i samma graf är det bättre att använda <code>geom_freqpoly()</code> istället för <code>geom_histogram()</code>. <code>geom_freqpoly()</code> gör samma beräkningar som <code>geom_histogram()</code>, men istället för att använda staplar används linjer. Det är lättare att förstå linjer som överlappar varandra än staplar. Pröva:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">colour =</span> cut)) <span class="op">+</span></a>
<a class="sourceLine" id="cb194-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="fl">0.1</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-109-1.png" width="70%" /></p>
</div>
<div id="outliers" class="section level2">
<h2><span class="header-section-number">7.5</span> Outliers</h2>
<p>Outliers är observationer som sticker ut, datapunkter som inte verkar passar in i mönstret. Ibland handlar det om fel i indata, men någon gång om viktig ny information. Om datamängden är stor kan det vara svårt att urskilja outliers i ett histogram. Se t.ex. på fördelningen av variabeln <code>y</code> i datasetet <code>diamonds</code>. Den enda signalen om att det finns outliers är den oväntat omfångsrika x-axeln:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb195-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> y), <span class="dt">binwidth =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-110-1.png" width="70%" /></p>
<p>Det finns så många observationer i de mer frekventa bins att de kortare bins:en är så korta att de inte syns. Vi behöver zooma in till de små värdena på y-axeln och för det kan vi använda <code>coord_cartesian()</code>:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb196-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> y), <span class="dt">binwidth =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb196-3" data-line-number="3"><span class="st">  </span><span class="kw">coord_cartesian</span>(<span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">50</span>))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-111-1.png" width="70%" /></p>
<p>(<code>coord_cartesian()</code> har också ett <code>xlim()</code> argument då du behöver zooma in på delar av x-axeln. <code>ggplot2</code> har också <code>xlim()</code> och <code>ylim()</code> funktioner vilka fungerar lite annorlunda: de kastar bort data som ligger utanför dessa gränser.)</p>
<p>Här kan vi se att det finns tre outliers: 0, ~30, and ~60. Vi tar bort dem genom att filtrera:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1">unusual &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb197-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(y <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>y <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb197-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(price, x, y, z) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb197-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(y)</a>
<a class="sourceLine" id="cb197-5" data-line-number="5">unusual</a></code></pre></div>
<pre><code>## # A tibble: 9 x 4
##   price     x     y     z
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  5139  0      0    0   
## 2  6381  0      0    0   
## 3 12800  0      0    0   
## 4 15686  0      0    0   
## 5 18034  0      0    0   
## 6  2130  0      0    0   
## 7  2130  0      0    0   
## 8  2075  5.15  31.8  5.12
## 9 12210  8.09  58.9  8.06</code></pre>
<p>Variabeln <code>y</code> mäter storleken av dessa diamanter i mm. Vi inser att diamanter inte kan ha en storlek av 0 mm så den observationen mste vara ett felvärde. Vi kan också misstänka att att diamanterna med 32 resp 59mm storlek är felvärden eftersom så stora diamanter måste vara värda miljoner.</p>
<p>Det är god praxis att köra analysen med och utan outliers. Om de har minimal effekt på resultaten är det rimligt att ersätta dem med missing values (<code>NA</code>). Men om de påverkar resultaten behöver man förstås fundera på vad som orsakade dessa värden och redovisa det på lämpligt sätt.</p>
</div>
<div id="ovningar-14" class="section level2">
<h2><span class="header-section-number">7.6</span> Övningar</h2>
<ol style="list-style-type: decimal">
<li>Undersök fördelningen av <code>x</code>, <code>y</code> och <code>z</code>-värden i <code>diamonds</code>. Samband?</li>
<li>Undersök fördelningen av priset. Något som förvånar/överraskar? (använd flera värden på <code>binwidth</code> )</li>
<li>Hur många diamanter är 0.99 carat? Hur många är 1 carat? Vad orsakar skillnaden?</li>
<li>Jämför <code>coord_cartesian()</code> och <code>xlim()</code> eller <code>ylim()</code> när du zoomar in ett histogram. Vad händer om du inte ändrar <code>binwidth</code> ? Vad händer om du försöker zooma in så att bara halva stapeln syns?</li>
</ol>
</div>
<div id="missing-values-1" class="section level2">
<h2><span class="header-section-number">7.7</span> Missing values</h2>
<p>Ett sätt att hantera outliers som du bedömer vara orimliga/felaktiga är att ersätta dem med <em>missing values</em>, <code>NA</code>. Det enklaste sättet att göra det på är att använda <code>mutate()</code> för att ersätta outliern med <code>NA</code> eller ett annat lämpligt värde. Du kan använda <code>ifelse()</code>:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">diamonds2 &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb199-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">y =</span> <span class="kw">ifelse</span>(y <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>y <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>, <span class="ot">NA</span>, y))</a></code></pre></div>
<p><code>ifelse()</code> har tre argument. Det första, <code>test</code>, måste vara en logisk vektor. Resultatet kommer att innehålla värdet på det andra argumentet, <code>yes</code>, om <code>test</code>är sant eller värdet av det tredje argumentet ifall test är falskt.</p>
<p>Ett alternativ till <code>ifelse()</code>är <code>dplyr::case_when()</code> som är speciellt användbar tillsammans med <code>mutate()</code>när du vill skapa en ny variabel som bygger på en mer komplex kombination av existerande variabler.</p>
<p>Liksom R i övrigt hyllar <code>ggplot2</code> filosofin att <em>missing values</em> ska aldrig bli missing i tysthet. det är långt ifrån klart hur man skulle plotta <em>missing values</em> så <code>ggplo2</code> exkluderar dessa värdemn från grafen men du får alltid en varning om att d har tagits bort:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds2, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb200-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<pre><code>## Warning: Removed 9 rows containing missing values (geom_point).</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-114-1.png" width="70%" /></p>
<p>För att undertrycka varninegen kan du använda <code>na.rm = TRUE</code>.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds2, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb202-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-115-1.png" width="70%" /></p>
<p>Vid andra tillfällen kanske du vill visualisera vada det är som gör att <em>missing values</em> skiljer sig från andra värden. Till exempel, i <code>nycflights13::flights</code> indikerar <em>missing values</em> inställda flighter. Om du då vill jämföra de planerade avgångstiderna för inställda vs. icke-inställda flighter kan du göra det genom att skapa en ny variabel med hjälp av <code>is.na()</code>:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1">nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb203-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb203-3" data-line-number="3">    <span class="dt">cancelled =</span> <span class="kw">is.na</span>(dep_time),</a>
<a class="sourceLine" id="cb203-4" data-line-number="4">    <span class="dt">sched_hour =</span> sched_dep_time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb203-5" data-line-number="5">    <span class="dt">sched_min =</span> sched_dep_time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>,</a>
<a class="sourceLine" id="cb203-6" data-line-number="6">    <span class="dt">sched_dep_time =</span> sched_hour <span class="op">+</span><span class="st"> </span>sched_min <span class="op">/</span><span class="st"> </span><span class="dv">60</span></a>
<a class="sourceLine" id="cb203-7" data-line-number="7">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb203-8" data-line-number="8"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(sched_dep_time)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb203-9" data-line-number="9"><span class="st">    </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> cancelled), <span class="dt">binwidth =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-116-1.png" width="70%" /></p>
<p>Men detta är inte en optimal graf eftersom det finns så många fler icke-inställda flighter än inställda. Vi ska i nästa avsnitt kika på några sätt för att underlätta jämförelsen.</p>
</div>
<div id="samvarians---covariance" class="section level2">
<h2><span class="header-section-number">7.8</span> Samvarians - covariance</h2>
<p>Om variation beskriver vad som händer <em>inom</em> en variabel beskriver samvariation (covariation) vad som sker <em>mellan</em> variabler. Visualisering är ett effektivt sätt för att upptäcka samvariation. Hur du ska åstadkomma visualiseriingen beror på mellan vilka variabler du vill undersöka samvariationen.</p>
<div id="en-kategorisk-och-en-kontinuerlig-variabel" class="section level3">
<h3><span class="header-section-number">7.8.1</span> En kategorisk och en kontinuerlig variabel</h3>
<p>Stanbdard-sättet frö <code>geom_freqpoly()</code> är inte särskilt bra för den sortens jämförelser eftersom höjden beror på antalet observaioner. Om en av grupperna innehåller få observationer blir det svårt att se skillnader mellan grupperna:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> price)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb204-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> cut), <span class="dt">binwidth =</span> <span class="dv">500</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-117-1.png" width="70%" /></p>
<p>Det är svårt att se skillnader mellan grupperna eftersom det skiljer stort i gruppstorlek:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb205-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> cut))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-118-1.png" width="70%" /></p>
<p>För att underlätta jämförelsen behöver vi byta ut det som visas på y-axeln. Istället för att visa antal (count), visar vi täthet (density) vilket är antalet standardiserat så att ytan under varje frekvens-polycon summerar till 1.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> price, <span class="dt">y =</span> ..density..)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb206-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">colour =</span> cut), <span class="dt">binwidth =</span> <span class="dv">500</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-119-1.png" width="70%" /></p>
<p>Det är något knepigt med denna graf - det verkar som om diamanterna med lägst kvalitet (fair) är dyrast i genomsnitt.</p>
<p>Ett alternativt sätt att visa gfördelningen av en kontinuerlig variabel är att använda en boxplot. Den består av</p>
<ol style="list-style-type: decimal">
<li>En box med utsträckningen 25 - 75 percentilerna (= the interquartile range (IQR)). I mitten av boxen en markering för medianen.</li>
<li>Punkter som visar observationer som faller utanför 1,5 ggr IQR från vardera kanterna av boxen</li>
<li>En linje som sträcker sig från vardera kanten på boxen till den observation längst bort men som inte är en outlier.</li>
</ol>
<p><img src="eda-boxplot.png" /></p>
<p>Låt oss se hur prisfördelningen ser ut med boxplots:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb207-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-120-1.png" width="70%" /></p>
<p>Vi får mindre information om fördelningen men boxplots är kompaktare vilket underlättar jämförelsen och fortfarande får vi intryck av att diamanter med lägre kvalitet är dyrare.</p>
<p>Ibland kan du behöva ändra ordningen av kategorierna för att göra grafen mer lättläst. Det kan du göra med hjälp av <code>reorder()</code>. Till exempel, låt oss kika på variabeln <code>class</code> i datasetet <code>mpg</code>. Du kanske vill se hur bränsleeffektiviteten (<code>hwy</code>) varierar mellan biltyperna (<code>class</code>):</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> class, <span class="dt">y =</span> hwy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb208-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-121-1.png" width="70%" /></p>
<p>För att se trenden tydligare kan du ordna om <code>class</code>baserat på median-värdet av <code>hwy</code>:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg) <span class="op">+</span></a>
<a class="sourceLine" id="cb209-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(class, hwy, <span class="dt">FUN =</span> median), <span class="dt">y =</span> hwy))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-122-1.png" width="70%" /></p>
<p>Om variabelnamnen är långa fungerar boxplot bättre om du roterar grafen 90 grader. Det kan du göra med hjälp av <code>coord_flip()</code>:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> mpg) <span class="op">+</span></a>
<a class="sourceLine" id="cb210-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(class, hwy, <span class="dt">FUN =</span> median), <span class="dt">y =</span> hwy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb210-3" data-line-number="3"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-123-1.png" width="70%" /></p>
</div>
<div id="ovningar-15" class="section level3">
<h3><span class="header-section-number">7.8.2</span> Övningar</h3>
<ol style="list-style-type: decimal">
<li>Vilken variabel i datasetet <code>diamonds</code> är viktigast för att förklara priset på en diamant? Hur korrelerar den variabeln med kvaliteten (<code>cut</code>)? Hur kan kombinationen av dessa två relationer förkara att diamaneter med lägra kvalitet förefaller vara dyrare?</li>
</ol>
</div>
<div id="tva-kategoriska-variabler" class="section level3">
<h3><span class="header-section-number">7.8.3</span> Två kategoriska variabler</h3>
<p>För att visualisera samvariationen mellan två kategoriska variabler behöver du berökna antalet observationer nför varje unik kombination av de två variablerna. Ett sätt att göra det är att använda den inbyggda funktionen <code>geom_count()</code>:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></a>
<a class="sourceLine" id="cb211-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_count</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> cut, <span class="dt">y =</span> color))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-124-1.png" width="70%" /></p>
<p>Storleken på varje cirkel markerar hur många obserbvationer nsom finns under varje kombination.</p>
<p>Ett alternativt sätt är att beräkna antalet observartioner med <code>dplyr</code>:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb212-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(color, cut)</a></code></pre></div>
<pre><code>## # A tibble: 35 x 3
##    color cut           n
##    &lt;ord&gt; &lt;ord&gt;     &lt;int&gt;
##  1 D     Fair        163
##  2 D     Good        662
##  3 D     Very Good  1513
##  4 D     Premium    1603
##  5 D     Ideal      2834
##  6 E     Fair        224
##  7 E     Good        933
##  8 E     Very Good  2400
##  9 E     Premium    2337
## 10 E     Ideal      3903
## # ... with 25 more rows</code></pre>
<p>Sedan kan du visualisera detta med `<code>geom_tile()</code> och argumentet <code>fill</code>:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb214-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(color, cut) <span class="op">%&gt;%</span><span class="st">  </span></a>
<a class="sourceLine" id="cb214-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> color, <span class="dt">y =</span> cut)) <span class="op">+</span></a>
<a class="sourceLine" id="cb214-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_tile</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">fill =</span> n))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-126-1.png" width="70%" /></p>
</div>
<div id="tva-kontinuerliga-variabler" class="section level3">
<h3><span class="header-section-number">7.8.4</span> Två kontinuerliga variabler</h3>
<p>Ett uppenbart sätt att visualisera sambvariation mellan två kontinuerliga variabler är förstås en scatterplot:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> diamonds) <span class="op">+</span></a>
<a class="sourceLine" id="cb215-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-127-1.png" width="70%" /></p>
<p>Men dessa grafer blir svårare att läsa om antalet observationer är stort. Vi har tidigare använt argumentet <code>alpha</code> som gör punkterna mer eller mindre genomskinliga och på så sätt rundar problemet med överlappning. Ett annat sätt att visualisera samvariation då man har många observationer är att använda <code>geom_bin2d()</code>eller <code>geom_hex()</code>.</p>
<p><code>geom_bin2d()</code> och <code>geom_hex()</code> delar in koordinatsystemet i 2-dimensionella <em>bins</em> och använder sedan en färg (<code>fill</code>) för att markera antalet observationer inom varje <em>bin</em>. <code>geom_bin2d()</code> använder rektangulära <em>bins</em> och <code>geom_hex()</code> använder hexagonala. Du behöver installera modulen `<code>hexbin</code> för att använda <code>hex_bin()</code></p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller) <span class="op">+</span></a>
<a class="sourceLine" id="cb216-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bin2d</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-128-1.png" width="70%" /></p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="co"># install.packages(&quot;hexbin&quot;)</span></a>
<a class="sourceLine" id="cb217-2" data-line-number="2"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller) <span class="op">+</span></a>
<a class="sourceLine" id="cb217-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_hex</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-128-2.png" width="70%" /></p>
<p>Ett ytterligare sätt är att dela upp en av de kontinuerliga variablerna så att den fungerar som en kategorisk. Till exempel, kan du dela upp <code>carat</code> och sedan göra en boxplot för varje grupp:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb218-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_width</span>(carat, <span class="fl">0.1</span>)))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-129-1.png" width="70%" /></p>
<p><code>cut_width(x, width)</code> delar upp <code>x</code> i delar med bredden <code>width</code>. Som standard ser boxplots ungefär lika smala ut oberoende av antalet observationerså det är svårt att se hur många observationer som varje boxplot rymmer. Men du kan variera bredden på boxplot:en genom att göra den proportionell mot antalet observationer med hjälp av <code>varwidth = TRUE</code>.</p>
<p>Ett alternativt sätt är att fördela ungefär lika många observationer i varje <em>bin</em>. För detta använder du <code>cut_number()</code>:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> smaller, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb219-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">group =</span> <span class="kw">cut_number</span>(carat, <span class="dv">20</span>)))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-130-1.png" width="70%" /></p>
</div>
</div>
<div id="ggplot2-calls" class="section level2">
<h2><span class="header-section-number">7.9</span> <code>ggplot2</code> calls</h2>
<p>När vi nu börjar komma till slutet av början är det dags att kika på ett mer koncist sätt att skriva kod i <code>ggplot2</code>. Hittills har vi skrivit koden så att den blir riktigt tydlig vilket förstås är bra för att lära iin språket:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> faithful, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> eruptions)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb220-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="fl">0.25</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-131-1.png" width="70%" /></p>
<p>men man kan förenkla koden genom att utelämna argumentens namn:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="kw">ggplot</span>(faithful, <span class="kw">aes</span>(eruptions)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb221-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="fl">0.25</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-132-1.png" width="70%" /></p>
<p>Ibland vill du kombinera en “pipeline” med en graf. se upp med övergången från <code>%&gt;%</code> till <code>+</code>:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1">diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb222-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(cut, clarity) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb222-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(clarity, cut, <span class="dt">fill =</span> n)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb222-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_tile</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-133-1.png" width="70%" /></p>
</div>
<div id="att-lara-mer" class="section level2">
<h2><span class="header-section-number">7.10</span> Att lära mer</h2>
<p>Om du vill veta mer om <code>ggplot2</code> rekommenderas den dedikerade läroboken <a href="https://amzn.com/331924275X" class="uri">https://amzn.com/331924275X</a>. Tyvärr inte tillgänglig fritt å nätet. Det är däremot <em>R Graphics Cookbook</em> av Winston Chang, åtminstone till större delen. Se <a href="http://www.cookbook-r.com/Graphs/" class="uri">http://www.cookbook-r.com/Graphs/</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="arbetsflode-scripts.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="arbetsflode-projekt.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
